<style>
    .faq-item p {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
        padding-top: 0;
        padding-bottom: 6px;
        opacity: 0;
    }

    .faq-item.open p {
        max-height: 200px; /* Un valor suficientemente grande para cualquier respuesta */
        padding-top: 8px;
        padding-bottom: 8px;
        opacity: 1;
    }
</style>

<section class="w-full bg-tertiary py-10">
    <div class="max-w-[800px] mx-auto px-6 sm:px-10 md:px-20 flex flex-col gap-10">
        <h1 class="text-primary font-semibold text-2xl text-center">
            Preguntas frecuentes
        </h1>

        <!-- Contenedor de Preguntas -->
        <div class="flex flex-col divide-y divide-gray-400" id="faq-container">
            <div class="faq-item py-5 cursor-pointer open">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-medium text-primary">
                        ¿Cómo funciona la aplicación?
                    </h2>
                    <i class="fas fa-chevron-up text-primary"></i>
                </div>
                <p class="text-gray-800 mt-2">
                    Nuestra aplicación utiliza inteligencia artificial para
                    monitorear y predecir posibles complicaciones de la diabetes
                    en base a tus datos ingresados.
                </p>
            </div>

            <div class="faq-item py-5 cursor-pointer">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-medium text-primary">
                        ¿Es gratuita la aplicación?
                    </h2>
                    <i class="fas fa-chevron-down text-primary"></i>
                </div>
                <p class="text-gray-800 mt-2">
                    Sí, puedes descargar y usar la aplicación de forma gratuita
                    con funciones básicas. Hay opciones premium para
                    características avanzadas.
                </p>
            </div>

            <div class="faq-item py-5 cursor-pointer">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-medium text-primary">
                        ¿Cómo protegen mis datos?
                    </h2>
                    <i class="fas fa-chevron-down text-primary"></i>
                </div>
                <p class="text-gray-800 mt-2">
                    Implementamos encriptación avanzada y seguimos estrictas
                    normativas de seguridad para proteger tu información.
                </p>
            </div>

            <div class="faq-item py-5 cursor-pointer">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-medium text-primary">
                        ¿Puedo compartir mi información con mi médico?
                    </h2>
                    <i class="fas fa-chevron-down text-primary"></i>
                </div>
                <p class="text-gray-800 mt-2">
                    Sí, puedes compartir tus datos con tu médico de confianza
                    para que pueda monitorear tu progreso y darte recomendaciones.
                </p>
            </div>

            <div class="faq-item py-5 cursor-pointer">
                <div class="flex justify-between items-center">
                    <h2 class="text-lg font-medium text-primary">
                        ¿Qué dispositivos son compatibles?
                    </h2>
                    <i class="fas fa-chevron-down text-primary"></i>
                </div>
                <p class="text-gray-800 mt-2">
                    Nuestra aplicación es compatible con la mayoría de los
                    dispositivos móviles y tablets, tanto en Android como iOS.
                </p>
            </div>
        </div>

        <button
            class="text-primary bg-white font-medium rounded-lg px-6 py-2 w-fit mx-auto transition-all duration-300 hover:bg-opacity-80 hover:scale-105"
        >
            Ver más preguntas
        </button>
    </div>
</section>

<!-- Script para manejar la interacción con animación -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const faqItems = document.querySelectorAll(".faq-item");

        faqItems.forEach((item) => {
            item.addEventListener("click", () => {
                const isOpen = item.classList.contains("open");

                // Cerrar todos los FAQ antes de abrir uno nuevo
                faqItems.forEach((el) => {
                    el.classList.remove("open");

                    const icon = el.querySelector("i");
                    const text = el.querySelector("p");

                    if (icon) icon.classList.replace("fa-chevron-up", "fa-chevron-down");
                    if (text) {
                        text.style.maxHeight = "0px";
                        text.style.opacity = "0";
                        text.style.paddingTop = "0";
                        text.style.paddingBottom = "6px";
                    }
                });

                // Si el FAQ no estaba abierto, abrirlo
                if (!isOpen) {
                    item.classList.add("open");

                    const icon = item.querySelector("i");
                    const text = item.querySelector("p");

                    if (icon) icon.classList.replace("fa-chevron-down", "fa-chevron-up");
                    if (text) {
                        text.style.maxHeight = text.scrollHeight + "px"; // Ajusta a su altura real
                        text.style.opacity = "1";
                        text.style.paddingTop = "8px";
                        text.style.paddingBottom = "8px";
                    }
                }
            });
        });
    });
</script>
